# TCP的粘包问题

## ✏ 1、`TCP`选项之`MSS`

`MSS`（Maximum Segment Size，最大报文段大小）的概念是指`TCP`层所能够接收的最大段大小，该值只包括`TCP`段的数据部分，不包括选项部分。在`TCP`首部有一个`MSS`选项，在三次握手过程中，`TCP`发送端使用该选项告诉对方自己所能接受的最大段大小。 **`MSS` 选项只能出现在 SYN 段中。**

`MSS`选项虽然作为一个选项存在，原则上讲是可有可无的，但是目前绝大多数的`TCP`通信过程中都会携带该选项，可以说它是`TCP`中最重要的一个选项了。关于`MSS`的内容，主要包括两个方面：

1. SYN段和`SYN+ACK`段中携带的`MSS`选项是如何确定的（有些资料中会提到的`RMSS`，即接收`MSS`）？
2. 连接建立后的发包过程中，`MSS`是如何发挥作用的（有些资料中会提到的`SMSS`，即发送`MSS`）？

从客户端和服务器端的三次握手过程中可以看到`RMSS`是如何确定的。从连接态的数据发送过程可以看到`SMSS`是如何发乎作用的。

`MSS` 是软件层的概念，它是由软件控制的，`MTU` 是硬件（比如网卡出口）的属性，是指二层链路层帧携带的数据最大大小。

## 

